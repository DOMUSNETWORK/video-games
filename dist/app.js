"use strict";var myApp=angular.module("myApp",["ngRoute","ngAnimate","myApp.themeSwitcher","myApp.videoGames"]).config(["$routeProvider",function(a){a.otherwise({redirectTo:"/video-games"})}]),themeSwitcher=angular.module("myApp.themeSwitcher",[]),videoGames=angular.module("myApp.videoGames",["ngRoute","ngAnimate"]);themeSwitcher.controller("themeController",["$scope",function(){var a=this;a.css="css/themes/app-theme-0",a.themes=[{id:"theme00",css:"css/themes/app-theme-0",name:"Default"},{id:"theme01",css:"css/themes/app-theme-1",name:"Theme 1"},{id:"theme02",css:"css/themes/app-theme-2",name:"Theme 2"}]}]),videoGames.directive("gameCard",[function(){return{templateUrl:"video-games/game-card/game-card.html",restrict:"A",replace:!0,scope:{cardData:"="}}}]),videoGames.controller("GameDetailsController",["$routeParams","GamesFetcher",function(a,b){var c=this,d=[],e={};b.async().then(function(){d=b.games(),e=b.retrieve(a.id),c.game=e.game,c.prevGame=e.index>0?d[e.index-1].id:d[d.length-1].id,c.nextGame=e.index<d.length-1?d[e.index+1].id:d[0].id})}]),videoGames.factory("GamesFetcher",["$http","$q",function(a,b){var c=b.defer(),d=[],e={};return e.async=function(){return 0===d.length?(a.get("video-games.json").success(function(a){d=a,console.log(a),c.resolve()}),c.promise):(c.resolve(),c.promise)},e.games=function(){return d},e.retrieve=function(a){if(angular.isDefined(a)){for(var b=0,c=d.length;c>b;b++)if(angular.equals(d[b].id,a))return{index:b,game:d[b]};return null}console.error("Error while retrieving game, check arguments for retrieve()")},e}]),videoGames.controller("GamesListController",["GamesFetcher",function(a){var b=this;a.async().then(function(){b.games=a.games()}),b.gamesOrder="price",b.direction="reverse"}]),videoGames.filter("gamePrice",[function(){return function(a){return 0===a?"Free game":a>0?"$"+a:void 0}}]),videoGames.directive("searchBar",[function(){return{templateUrl:"video-games/search-bar/search-bar.html",restrict:"A",replace:!0,scope:{barQuery:"=filter",barOrder:"=order",barDirection:"=direction"}}}]),videoGames.config(["$routeProvider",function(a){a.when("/video-games",{templateUrl:"video-games/games-list/games-list.html",resolve:{async:["GamesFetcher",function(a){return a.async()}]},controller:"GamesListController as listCtrl"}).when("/video-games/:id",{templateUrl:"video-games/game-details/game-details.html",resolve:{async:["GamesFetcher",function(a){return a.async()}]},controller:"GameDetailsController  as detailsCtrl"})}]);